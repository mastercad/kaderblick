<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="{{ path('app_dashboard_index') }}">Kaderblick</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                {# Öffentliche Endpunkte #}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        Öffentlich
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{{ path('calendar_index') }}">Kalender</a></li>
                        <li><a class="dropdown-item" href="{{ path('api_teams_index') }}">Teams</a></li>
                        <li><a class="dropdown-item" href="{{ path('api_games_index') }}">Spiele</a></li>
                        <li><a class="dropdown-item" href="{{ path('api_locations_index') }}">Spielstätten</a></li>
                    </ul>
                </li>

                {# Spieler-Endpunkte #}
                {% if ( is_granted('ROLE_PLAYER') ) or ( is_granted('ROLE_ADMIN') ) %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            Spieler
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ path('api_players_index') }}">Spielerübersicht</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_game_events_index') }}">Spielereignisse</a></li>
                        </ul>
                    </li>
                {% endif %}

                {# Trainer-Endpunkte #}
                {% if ( is_granted('ROLE_COACH' ) ) or ( is_granted('ROLE_ADMIN') ) %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            Trainer
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ path('api_teams_index') }}">Mannschaften</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_players_index') }}">Spieler</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_game_events_index') }}">Spielereignisse</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{{ path('api_game_event_types_index') }}">Ereignistypen</a></li>
                        </ul>
                    </li>
                {% endif %}

                {# Admin-Endpunkte #}
                {% if is_granted('ROLE_ADMIN') %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            Administration
                        </a>
                        <ul class="dropdown-menu">
                            <li><h6 class="dropdown-header">Stammdaten</h6></li>
                            <li><a class="dropdown-item" href="{{ path('api_age_groups_index') }}">Altersgruppen</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_positions_index') }}">Positionen</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_strong_feet_index') }}">Füße</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_surface_types_index') }}">Beläge</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><h6 class="dropdown-header">Verwaltung</h6></li>
                            <li><a class="dropdown-item" href="{{ path('api_clubs_index') }}">Vereine</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_coaches_index') }}">Trainer</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_locations_index') }}">Spielstätten</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_teams_index') }}">Teams</a></li>
                            <li><a class="dropdown-item" href="{{ path('admin_feedback_index') }}">Feedback</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><h6 class="dropdown-header">Zuweisungen</h6></li>
                            <li><a class="dropdown-item" href="{{ path('admin_users_index') }}">Benutzer</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_player_team_assignments_index') }}">Spieler zu Team</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_player_club_assignments_index') }}">Spieler zu Verein</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_coach_team_assignments_index') }}">Coach zu Team</a></li>
                            <li><a class="dropdown-item" href="{{ path('api_coach_club_assignments_index') }}">Coach zu Verein</a></li>
                            <li><a class="dropdown-item" href="{{ path('videos_upload_form') }}">Videos</a></li>
                        </ul>
                    </li>
                {% endif %}
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <button class="btn btn-primary btn-outline" id="installPWA">App installieren</button>
                </li>
                <li class="nav-item">
                    <button id="button_messages" class="btn btn-outline-light mx-2 d-none" onclick="window.location.href='{{ path('messages_index') }}'">
                        <i class="fas fa-envelope"></i> Nachrichten
                        <span id="unread_messages_count" class="badge bg-danger d-none">0</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button id="button_profile" class="btn btn-outline-light mx-2 d-none" data-bs-toggle="modal" data-bs-target="#profile_modal">
                        <i class="fas fa-user"></i> Profil
                    </button>
                </li>
                <li class="nav-item">
                    <button id="button_register" class="btn btn-outline-light mx-2" data-bs-toggle="modal" data-bs-target="#auth_modal">
                        Anmelden
                    </button>
                </li>
                <li class="nav-item">
                    <button id="button_logout" class="btn btn-outline-danger mx-2 d-none">
                        Abmelden
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>
